---
title: "[AWS]AWS Machine Learning (4) Testing"
date: 2020-07-27
toc: true
toc_sticky: true
header:
  teaser: 
use_math: true
categories: python udacity study machinelearning ai machine aws amazon
---

#  Lesson 4 Testing

*이 포스팅은 Udacity의 AWS Machine Learning을 정리한 자료입니다.*  

## 1) Introduction

배포하기 전에 코드를 테스트해야합니다. 이는 오류나 잘못된 결론을 피하는 데 도움을 줍니다.

취업을 위해서는 코드 테스트를 포함하여 산업 환경에 맞게 프로그래밍을 할 수 있는 데이터 사이언티스트를 찾고 있습니다.

기본적인 사항은 아래와 같습니다.

* 데이터 과학에서 발생할 수있는 문제는 항상 쉽게 찾을 수는 없습니다. 값이 잘못 인코딩되거나, 함수가 부적절하게 사용되고, 예상치 못한 데이터 손상이 있을 수도 있습니다.

* 이러한 오류를 포착하려면 코드의 퀄리티 뿐만 아니라 정확성도 확인해야합니다. 이런 과정을 위해 테스트가 반드시 수행되어야 합니다.

* **테스트 주도 개발**이란 해당 태스크를 구현하기위한 코드를 작성하기 전에 태스크 테스트를 먼저 작성하는 개발 프로세스입니다.

* 단위 테스트(unit test)란 프로그램의 나머지 부분과 독립적으로 코드의 '단위', 일반적으로 단일 기능을 다루는 테스트 유형입니다.

더 알아보고 싶으신 분은 아래의 포스팅을 참고해 주세요.

[Four Ways Data Science Goes Wrong and How Test Driven Data Analysis Can Help](https://www.predictiveanalyticsworld.com/patimes/four-ways-data-science-goes-wrong-and-how-test-driven-data-analysis-can-help/6947/)

[Ned Batchelder의 Getting Started Testing 슬라이드](https://speakerdeck.com/pycon2014/getting-started-testing-by-ned-batchelder) 

[Ned Batchelder의 Getting Started Testing 영상](https://www.youtube.com/watch?v=FxSsnHeWQBY)


## 2) Unit Tests

반복 가능하고 자동화 된 방식으로 기능을 테스트하려고합니다. 모든 unit test를 실행하는 테스트 프로그램을 실행하여 어느 것이 실패했는지, 어떤 것이 성공했는지를 파악하는 것이 필요합니다.

다행스럽게도 파이썬에는 효과적인 단위 테스트를 만드는 데 사용할 수있는 훌륭한 도구가 있습니다.

unit test의 **장점**은 나머지 프로그램과 분리되어 종속성이 없다는 것입니다. 

데이터베이스, API 또는 기타 외부 정보 소스에 액세스 할 필요가 없습니다. 

그러나 unit test를 통과하는 것만으로는 프로그램이 성공적으로 작동한다고 말할 수는 없습니다.

프로그램의 모든 부분이 서로 올바르게 작동하고, 올바르게 통신하고 서로간에 데이터를 전송한다는 것을 보여주기 위해 통합 테스트를 사용합니다. 

이 포스팅에서는 unit test에 중점을 둘 것입니다. 그러나 더 큰 프로그램을 빌드 할 때는 통합 테스트도 수행해야 합니다.

통합 테스트 및 unit test와의 관련성은 [여기](https://www.fullstackpython.com/integration-testing.html)서 확인해 볼 수 있습니다.

unit test를 위해서는 `pytest`를 사용합니다. ` pip install -U pytest`를 통해 설치할 수 있으며, 자세한 내용은 [여기](https://docs.pytest.org/en/latest/getting-started.html)서 확인 가능합니다. 

* `test_`로 시작하는 test file을 만듭니다.

* 테스트 파일 내에 test_로 시작하는 unit test의 함수를 정의합니다.

* 작업 디렉토리에서 터미널에 pytest를 입력하면 테스트가 수행됩니다.


test_를 기본값으로 입력해야 하며, 이것을 변경하려면 pytest의 설정을 변경할 수도 있습니다.

테스트 결과에서 periods는 성공적인 unit test를 나타내고 F는 실패한 unit test를 나타냅니다.

테스트 함수 내 하나의 assert문이 있어야 어디서 잘못되었는지 파악하기가 쉽습니다. assert가 일어난다고 해서 중단되지는 않지만, 구문자체가 잘못되었다면 멈출 수도 있습니다.


## 3) Test Driven Development and Data Science
